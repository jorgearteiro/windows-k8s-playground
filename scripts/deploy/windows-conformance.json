{
    "apiVersion": "vlabs",
    "properties": {
      "orchestratorProfile": {
        "orchestratorType": "Kubernetes",
        "orchestratorRelease": "1.12",
        "kubernetesConfig": {
                 "apiServerConfig" : {
                   "--feature-gates": "HyperVContainer=true"
                 },
                 "kubeletConfig" : {
                      "--feature-gates": "HyperVContainer=true"
                  }
            }
      },
      "masterProfile": {
        "count": 1,
        "dnsPrefix": "",
        "vmSize": "Standard_D2_v3",
        "distro": "ubuntu"
      },
      "agentPoolProfiles": [
          {
          "name": "windowspool",
          "count": 2,
          "vmSize": "Standard_D2_v3",
          "availabilityProfile": "AvailabilitySet",
          "osType": "Windows",
          "osDiskSizeGB": 127,
          "extensions": [
              {
                "name": "winrm"
              }
          ]
          },
          {
          "name": "linuxpool",
          "count": 2,
          "vmSize": "Standard_D2_v2",
          "availabilityProfile": "AvailabilitySet",
          "osType": "Linux",
          "distro": "ubuntu"
          }
      ],
      "windowsProfile": {
          "adminUsername": "adminuser",
          "windowsPublisher": "MicrosoftWindowsServer",
          "windowsOffer": "WindowsServerSemiAnnual",
          "windowsSku": "Datacenter-Core-1803-with-Containers-smalldisk"
       },
      "extensionProfiles": [
        {
          "name": "winrm",
          "version": "v1"
        }
      ],
      "linuxProfile": {
        "adminUsername": "adminuser"
      }
    }
  }